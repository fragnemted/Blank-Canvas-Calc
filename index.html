<!DOCTYPE html>
<html>
	<!--
	To-Do list
	- move calculation to work with given move list
	- fix mobile formatting
	-->

  <head>
    
    <meta charset="UTF-8">
		
		<!--
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		-->
		
		
    <style>
      body {
        background-color: rgb(45,0,45);
        font-family: verdana;
        color: white;
        margin-left: 20px;
      }

      h1, h2, h3 {
        text-align: center;
        margin-right: 20px;
      }
			
			textarea {
				resize: none;
				border-radius: 5px;
			}

      .noinput {
        background-color: rgb(150,150,150);
        color: black;
      }
	  
			.total {
				background-color: rgb(20,255,20);
				color: black;
			}
	  
			.remaining {
				background-color: rgb(255,60,60);
				color: black;
			}
	  
			.header0 {
				text-align: left; 
				font-size: 20px; 
				height: 40px;
				text-decoration: underline;
				text-decoration-thickness: 2px;
				font-variant: small-caps;
			}
	  
			.header1 {
				text-align: right;
				width: 100px;
				height: 30px;
			}
		
			td.hasbutton {
				text-align: right;
				width: 80px;
			}
			
			button.sidebutton {
				width: 60px;
				background-color: orange;
				border-radius: 4px;
				cursor: pointer;
			}
			
			button.sidebutton:hover {
				background-color: lightgreen;
			}
			
			a:link, a:visited {
				color: white;
				text-decoration: none;
			}
			
			a:hover, a:active {
				color: aqua;
				text-decoration: underline;
			}
      
    </style>
    
  </head>
  <body>
		<img src="1227 sin tÃ­tulo_20240810172215.png" alt="Blank Canvas Banner" style="border-radius:10px; margin-top:20px; margin-left:auto; margin-right:auto; display:block; height:35%; width:35%;">
		<p style="text-align:center; font-style:oblique">Art by Gaboswampert<br>
			<span style="font-size:10px;">Calculator coded by Fragmented</span>
		</p>
    <h1>= Blank Canvas Calculator =</h1>
		<p style="text-align:center;">
			<a href="https://www.smogon.com/forums/threads/blank-canvas.3748841/" target="_blank">Main Thread</a> | 
			<a href="https://docs.google.com/spreadsheets/d/1a-NXZB0KOsFGPzOkwGPYrg0iSMxejfKiPTosT3pfd20/edit?gid=0#gid=0" target="_blank">Spreadsheet</a> | 
			<a href="http://191.101.232.116/#" target="_blank">Showdown Server</a><br>
			Other Calculators: <a href="https://docs.google.com/spreadsheets/d/1QPx1QNIXoHkoUpe13gOPS3EkRs9m6ev8u5nciB_d3yA/edit?gid=1727721038#gid=1727721038" target="_blank">zxgzxg's Calculator</a> | 
			<a href="https://docs.google.com/spreadsheets/d/1tXxsAaMPhcm4wskDslLkd8_WU8fGCA4p_Li9WnjH35I/edit?gid=751524449#gid=751524449" target="_blank"> Fragmented's Google Sheet Calculator</a>
		</p>
		
		<hr style="height:5px; border-width:0 ;color:white; background-color:white; text-align: center;">
		<br>

    <div>
	  <!--Start of Starting Canvas Table -->
    <table>
			<tr>
				<td colspan=3 class="header0">Starting Canvas</td>
			</tr>
			<tr>
				<td class="header1">Type: </td>
				<td>
					<select id="type1" onchange="getTypeCost(); tot_rem();">
						<option value="" selected></option>
						<option value="Normal">Normal</option>
						<option value="Fire">Fire</option>
						<option value="Water">Water</option>
						<option value="Grass">Grass</option>
						<option value="Electric">Electric</option>
						<option value="Ice">Ice</option>
						<option value="Fighting">Fighting</option>
						<option value="Poison">Poison</option>
						<option value="Ground">Ground</option>
						<option value="Flying">Flying</option>
						<option value="Psychic">Psychic</option>
						<option value="Bug">Bug</option>
						<option value="Rock">Rock</option>
						<option value="Ghost">Ghost</option>
						<option value="Dragon">Dragon</option>
						<option value="Dark">Dark</option>
						<option value="Steel">Steel</option>
						<option value="Fairy">Fairy</option>
					</select>
					<select id="type2" onchange="getTypeCost(); tot_rem();">
						<option value="" selected></option>
						<option value="Normal">Normal</option>
						<option value="Fire">Fire</option>
						<option value="Water">Water</option>
						<option value="Grass">Grass</option>
						<option value="Electric">Electric</option>
						<option value="Ice">Ice</option>
						<option value="Fighting">Fighting</option>
						<option value="Poison">Poison</option>
						<option value="Ground">Ground</option>
						<option value="Flying">Flying</option>
						<option value="Psychic">Psychic</option>
						<option value="Bug">Bug</option>
						<option value="Rock">Rock</option>
						<option value="Ghost">Ghost</option>
						<option value="Dragon">Dragon</option>
						<option value="Dark">Dark</option>
						<option value="Steel">Steel</option>
						<option value="Fairy">Fairy</option>
					</select>
				</td>
      </tr>
      <tr>
				<td class="header1">Stats: </td>
				<td>
					<input type="number" id="hp_old" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="atk_old" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="def_old" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="spa_old" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="spd_old" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="spe_old" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
				</td>
      </tr>
			<tr>
				<td class="header1">Abilities: </td>
				<td>
					<select id="abi1" style="width:150px;" onchange="getAllAbiCost(); tot_rem();">
						<option value=""></option>
						<optgroup id="abiNorm1" label="- Normal Abilities -">
						</optgroup>
						<optgroup id="abiSitu1" label="- Situational Abilities -">
						</optgroup>
						<optgroup id="abiUsel1" label="- Useless Abilities -">
						</optgroup>
					</select>
					<select id="abi2" style="width:150px;" onchange="getAllAbiCost(); tot_rem();">
						<option value=""></option>
						<optgroup id="abiNorm2" label="- Normal Abilities -">
						</optgroup>
						<optgroup id="abiSitu2" label="- Situational Abilities -">
						</optgroup>
						<optgroup id="abiUsel2" label="- Useless Abilities -">
						</optgroup>
					</select>
					<select id="abi3" style="width:150px;" onchange="getAllAbiCost(); tot_rem();">
						<option value=""></option>
						<optgroup id="abiNorm3" label="- Normal Abilities -">
						</optgroup>
						<optgroup id="abiSitu3" label="- Situational Abilities -">
						</optgroup>
						<optgroup id="abiUsel3" label="- Useless Abilities -">
						</optgroup>
					</select>
				</td>
			</tr>
			<tr>
				<td class="header1">Given Moves: </td>
				<td><textarea id="moves_given" cols=61; rows="3" onchange="getGivenMoves();"></textarea></td>
			</tr>
    </table>
		<p style="font-size:12px;">Also gets the following moves: Take Down, Rest, Sleep Talk, Snore, Protect, Facade, Substitute, Tera Blast</p>
	  <!--End of Canvas Table-->	 
	  
		
    <br><br>
		
	  
	  <!--Start of Fakemon Table-->
	  <table>
			<tr>
				<td colspan=2 class="header0">Fakemon Canvas</td>
				<td class="hasbutton"><button type="button" class="sidebutton" onclick="reset();">Reset</button></td>
			</tr>
			<tr>
				<td class="header1">Name: </td>
				<td><textarea id="name_mon" rows=1 cols=30 maxlength=30></textarea></td>
				<td class="hasbutton"><button type="button" class="sidebutton" onclick="getCanvas();">Get Canvas</button></td>
			</tr>
			<tr>
				<td class="header1">Weight: </td>
				<td><textarea id="weight" inputmode="number" placeholder=0 rows=1 cols=6 max=999.9 maxlength=5></textarea>
			</tr>
			<tr>
				<td class="header1">Type: </td>
				<td>
					<select id="type1_new" onchange="getTypeCost(); tot_rem(); suggestMoves();">
						<option value="" selected></option>
						<option value="Normal">Normal</option>
						<option value="Fire">Fire</option>
						<option value="Water">Water</option>
						<option value="Grass">Grass</option>
						<option value="Electric">Electric</option>
						<option value="Ice">Ice</option>
						<option value="Fighting">Fighting</option>
						<option value="Poison">Poison</option>
						<option value="Ground">Ground</option>
						<option value="Flying">Flying</option>
						<option value="Psychic">Psychic</option>
						<option value="Bug">Bug</option>
						<option value="Rock">Rock</option>
						<option value="Ghost">Ghost</option>
						<option value="Dragon">Dragon</option>
						<option value="Dark">Dark</option>
						<option value="Steel">Steel</option>
						<option value="Fairy">Fairy</option>
					</select>
					<select id="type2_new" onchange="getTypeCost(); tot_rem(); suggestMoves();">
						<option value="" selected></option>
						<option value="Normal">Normal</option>
						<option value="Fire">Fire</option>
						<option value="Water">Water</option>
						<option value="Grass">Grass</option>
						<option value="Electric">Electric</option>
						<option value="Ice">Ice</option>
						<option value="Fighting">Fighting</option>
						<option value="Poison">Poison</option>
						<option value="Ground">Ground</option>
						<option value="Flying">Flying</option>
						<option value="Psychic">Psychic</option>
						<option value="Bug">Bug</option>
						<option value="Rock">Rock</option>
						<option value="Ghost">Ghost</option>
						<option value="Dragon">Dragon</option>
						<option value="Dark">Dark</option>
						<option value="Steel">Steel</option>
						<option value="Fairy">Fairy</option>
					</select>
				</td>
				<td class="hasbutton"><button type="button" class="sidebutton" onclick="getType(); getTypeCost(); suggestMoves();, tot_rem();">Get Type</button></td>
			</tr>
			<tr>
				<td class="header1">Stats: </td>
				<td>
					<input type="number" id="hp_new" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="atk_new" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="def_new" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="spa_new" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="spd_new" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
					<input type="number" id="spe_new" value=50 min=0 max=255 step=5 oninput="showStatCost(); tot_rem();">
				</td>
				<td class="hasbutton"><button type="button" class="sidebutton" onclick="getNewStats(); showStatCost(); tot_rem();">Get Stats</button></td>
			</tr>
			<tr>
				<td class="header1">Abilities: </td>
				<td>
					<select id="abi1_new" style="width:150px;" onchange="getAllAbiCost(); tot_rem();">
						<option value=""></option>
						<optgroup id="abiNorm1_new" label="- Normal Abilities -">
						</optgroup>
						<optgroup id="abiSitu1_new" label="- Situational Abilities -">
						</optgroup>
						<optgroup id="abiUsel1_new" label="- Useless Abilities -">
						</optgroup>
					</select>
					<select id="abi2_new" style="width:150px;" onchange="getAllAbiCost(); tot_rem();">
						<option value=""></option>
						<optgroup id="abiNorm2_new" label="- Normal Abilities -">
						</optgroup>
						<optgroup id="abiSitu2_new" label="- Situational Abilities -">
						</optgroup>
						<optgroup id="abiUsel2_new" label="- Useless Abilities -">
						</optgroup>
					</select>
					<select id="abi3_new" style="width:150px;" onchange="getAllAbiCost(); tot_rem();">
						<option value=""></option>
						<optgroup id="abiNorm3_new" label="- Normal Abilities -">
						</optgroup>
						<optgroup id="abiSitu3_new" label="- Situational Abilities -">
						</optgroup>
						<optgroup id="abiUsel3_new" label="- Useless Abilities -">
						</optgroup>
					</select>
				</td>
				<td class="hasbutton"><button type="button" class="sidebutton" onclick="getAbilities(); getAllAbiCost(); tot_rem();">Get Abilities</button></td>
			</tr>
			<tr>
				<td class="header1">New Moves: </td>
				<td><textarea id="moves_new" cols=61 rows=4 onchange="getMoveCost(); tot_rem();"></textarea></td>
			</tr>
			<!--Inserting a blank row-->
			<tr class="header1"></tr>
			<tr>
				<td class="header1">Suggested moves: </td>
				<td><textarea id="moves_suggest" class="noinput" cols=61 rows=4 disabled></textarea></td>
			</tr>
		</table>
		<!--End of Fakemon Table-->
	  
		
	<br><br>
	  
		
	  <!--Start of Cost Table-->
	  <table>
			<tr>
				<td colspan=3 class="header0">Point Cost</td>
			</tr>
			<tr>
				<td class="header1">Total Cost: </td>
				<td>
					<textarea class="total" inputmode="number" id="total_cost" placeholder=0 rows=1 cols=4 disabled></textarea>
				</td>
			</tr>
			<tr>
				<td class="header1">Remaining Cost: </td>
				<td>
					<textarea class="remaining" inputmode="number" id="rem_cost" placeholder=50 rows=1 cols=4 disabled></textarea>
				</td>
			</tr>
			<tr>
				<td class="header1">Type: </td>
				<td>
					<textarea class="noinput" inputmode="number" id="type1_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="type2_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
				</td>
			</tr>
			<tr>
				<td class="header1">Stats: </td>
				<td>
					<textarea class="noinput" inputmode="number" id="hp_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="atk_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="def_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="spa_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="spd_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="spe_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
	      </td>
			</tr>
			<tr>
				<td class="header1">Abilities: </td>
				<td>
					<textarea class="noinput" inputmode="number" id="abi1_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="abi2_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
					<textarea class="noinput" inputmode="number" id="abi3_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
				</td>
			</tr>
			<tr>
				<td class="header1">Moves: </td>
				<td>
					<textarea class="noinput" inputmode="number" id="move_cost" placeholder=0 rows=1 cols=4 disabled onchange="tot_rem();"></textarea>
				</td>
			</tr>
	  </table>
	  <!--End of Cost Table-->
		
		
		<br><br>
		
		
		<!--Copy/Pasteable-->
		<table>
			<tr>
				<td class="header0" colspan=2>Copy/Paste</td>
				<td class="hasbutton"><button type="button" class="sidebutton" onclick="makeCopy();">Get Copy</button></td>
			</tr>
			<tr>
				<td class="header1">Name: </td>
				<td><span id="nameCP">---</span></td>
			</tr>
			<tr>
				<td class="header1">Type: </td>
				<td>
					<span id="typeCP">---</span>
				</td>
			</tr>
			<tr>
				<td class="header1">Stats: </td>
				<td>
					<span id="hpCP">---</span> / 
					<span id="atkCP">---</span> / 
					<span id="defCP">---</span> / 
					<span id="spaCP">---</span> / 
					<span id="spdCP">---</span> / 
					<span id="speCP">---</span> | BST: 
					<span id="bst">---</span>
				</td>
			</tr>
			<tr>
				<td class="header1">Abilities: </td>
				<td>
					<span id="abiCP">---</span>
				</td>
			</tr>
			<!-- come back here if movepool causes table to become weird -->
			<tr>
				<td class="header1">Movepool: </td>
				<td><span id="movesCP">---</span></td>
			</tr>
			<tr>
				<td class="header1">Weight: </td>
				<td><span id="weightCP">---</span> kg</td>
			</tr>
		</table>
		<!--End of Copy/Pasteable-->
		
		<br><br><br>
		
		</div>
	
		<div hidden>
			Test: <span id="demo"></span><br>
			Test2: <span id="demo2"></span><br>
			Test3: <span id="demo3"></span><br><br>
			<button type="button" onclick="getMovepool();">Test</button>
		</div>

		<br><br>
		
		<!-- Scripts -->

    <script>	
		//Start of Type Cost Calculation (WIP)
			function getType() {
				type1_new.value = type1.value;
				type2_new.value = type2.value;
			}

	  
			function getTypeCost() {
				if (type1_new.value != type1.value) {
					if (type1_new.value == "") {
						type1_cost.value = 0;
					} else {
						type1_cost.value = 5;
					}
				} else {
					type1_cost.value = 0;
				}
				if (type2_new.value != type2.value) {
					if (type2_new.value == "") {
						type2_cost.value = 0;
					} else {
						type2_cost.value = 10;
					}
				} else {
					type2_cost.value = 0;
				}
			}	  
			//End of Type Cost Calculation
	  
	
	

	
      //Start of Stat Cost Calculation
      function getNewStats() {
        hp_new.value = hp_old.value;
        atk_new.value = atk_old.value;
        def_new.value = def_old.value;
        spa_new.value = spa_old.value;
        spd_new.value = spd_old.value;
        spe_new.value = spe_old.value;
      }

      function getStatCost(old_stat, new_stat) {
        old_dum = old_stat.value;
        new_dum = new_stat.value;
        if (new_dum - old_dum < 0) {
          stat_cost = 0;
        } else if (new_dum > 100) {
          if (old_dum > 100) {
            stat_dum = 2*(new_dum - old_dum)/5;
          } else if (old_dum > 70) {
            stat_cost = 2*(new_dum - 100)/5 + (100 - old_dum)/5;
          } else {
            stat_cost = 2*(new_dum - 100)/5 + 6 + (70 - old_dum)/10;
          }
        } else if (new_dum > 70) {
          if (old_dum > 70) {
            stat_cost = (new_dum - old_dum)/5;
          } else {
            stat_cost = (new_dum - 70)/5 + (70 - old_dum)/10;
          }
        } else {
          stat_cost = (new_dum - old_dum)/10;
        }
        return stat_cost;
      }

      function showStatCost() {
        hp_cost.value = getStatCost(hp_old, hp_new);
        atk_cost.value = getStatCost(atk_old, atk_new);
        def_cost.value = getStatCost(def_old, def_new);
        spa_cost.value = getStatCost(spa_old, spa_new);
        spd_cost.value = getStatCost(spd_old, spd_new);
        spe_cost.value = getStatCost(spe_old, spe_new);
      }
      //End of Stat Cost Calculation

		
	  
			//Ability Section  	
			function getAbilities() {
				abi1_new.value = abi1.value;
				abi2_new.value = abi2.value;
				abi3_new.value = abi3.value;
			}
	  
			//Normal Abilities, Length = 135
			let text1 = "Adaptability, Aerilate, Aroma Veil, As One (Glastrier), As One (Spectrier), Battle Bond, Beads of Ruin, Chilling Neigh, Chlorophyll, Comatose, Contrary, Corrosion, Dark Aura, Dauntless Shield, Defiant, Delta Stream, Desolate Land, Download, Dragon's Maw, Drizzle, Drought, Earth Eater, Electric Surge, Electromorphosis, Fairy Aura, Filter, Flare Boost, Flash Fire, Flower Veil, Fluffy, Fur Coat, Gale Wings, Galvanize, Good as Gold, Gorilla Tactics, Grassy Surge, Grim Neigh, Guts, Hadron Engine, Huge Power, Hustle, Ice Scales, Illusion, Imposter, Innards Out, Intimidate, Intrepid Sword, Iron Fist, Levitate, Libero, Lightning Rod, Magic Bounce, Magic Guard, Magnet Pull, Mega Launcher, Mind's Eye, Misty Surge, Mold Breaker, Moody, Motor Drive, Moxie, Multiscale, Neutralizing Gas, No Guard, Opportunist, Orichalcum Pulse, Parental Bond, Pixilate, Poison Heal, Poison Heal, Prankster, Primordial Sea, Prism Armor, Protean, Protosynthesis, Psychic Surge, Punk Rock, Pure Power, Purifying Salt, Quark Drive, Refrigerate, Regenerator, Rock Head, Rocky Payload, Sand Rush, Sand Spit, Sand Stream, Sap Sipper, Scrappy, Seed Sower, Serene Grace, Shadow Shield, Sharpness, Sheer Force, Simple, Skill Link, Slush Rush, Snow Warning, Solid Rock, Soul-Heart, Speed Boost, Stakeout, Stamina, Steelworker, Steely Spirit, Storm Drain, Strong Jaw, Sturdy, Supreme Overlord, Surge Surfer, Swift Swim, Sword of Ruin, Tablets of Ruin, Technician, Tera Shell, Teravolt, Thick Fat, Tinted Lens, Tough Claws, Toxic Boost, Toxic Chain, Toxic Debris, Transistor, Triage, Turboblaze, Unaware, Unburden, Vessel of Ruin, Volt Absorb, Water Absorb, Water Bubble, Weak Armor, Well-Baked Body, Wind Rider, Wonder Skin";
			const NormalAbilities = text1.split(", ");
			
			//Situational Abilities, Length = 73
			let text2 = "Aftermath, Air Lock, Analytic, Anger Shell, Armor Tail, Berserk, Blaze, Bulletproof, Cheek Pouch, Clear Body, Cloud Nine, Competitive, Compound Eyes, Cotton Down, Cud Chew, Cursed Body, Dazzling, Dry Skin, Flame Body, Forecast, Frisk, Full Metal Body, Gooey, Grass Pelt, Guard Dog, Harvest, Heatproof, Immunity, Infiltrator, Limber, Lingering Aroma, Liquid Voice, Long Reach, Magician, Marvel Scale, Mirror Armor, Mummy, Natural Cure, Neuroforce, Overcoat, Overgrow, Pastel Veil, Poison Point, Poison Puppeteer, Poison Touch, Pressure, Queenly Magesty, Quick Draw, Quick Feet, Reckless, Ripen, Rough Skin, Sand Force, Shed Skin, Shield Dust, Sniper, Solar Power, Soundproof, Static, Steam Engine, Swarm, Sweet Veil, Synchronize, Tangling Hair, Thermal Exchange, Torrent, Trace, Unseen Fist, Victory Star, Wandering Spirit, Water Veil, White Smoke, Wind Power";
			const SituAbilities = text2.split(", ");
			
			//Useless Abilities, Length = 95
			let text3= "Anger Point, Anticipation, Aura Break, Bad Dreams, Ball Fetch, Battery, Battle Armor, Big Pecks, Color Change, Commander, Costar, Curious Medicine, Cute Charm, Damp, Dancer, Defeatist, Disguise, Early Bird, Effect Spore, Embody Aspect (Cornerstone), Embody Aspect (Hearthflame), Embody Aspect (Teal), Embody Aspect (Wellspring), Emergency Exit, Flower Gift, Forewarn, Friend Guard, Gluttony, Gulp Missile, Healer, Heavy Metal, Honey Gather, Hospitality, Hunger Switch, Hydration, Hyper Cutter, Ice Body, Ice Face, Illuminate, Inner Focus, Insomnia, Justified, Keen Eye, Klutz, Leaf Guard, Light Metal, Liquid Ooze, Magma Armor, Merciless, Mimicry, Minus, Mycelium Might, Oblivious, Own Tempo, Perish Body, Pickpocket, Pickup, Plus, Power Construct, Power of Alchemy, Power Spot, Propeller Tail, Rain Dish, Rattled, Receiver, Rivalry, RKS System, Run Away, Sand Veil, Schooling, Screen Cleaner, Shell Armor, Shields Down, Slow Start, Snow Cloak, Stall, Stalwart, Stance Change, Steadfast, Stench, Sticky Hold, Suction Cups, Super Luck, Supersweet Syrup, Symbiosis, Tangled Feet, Telepathy, Tera Shift, Teraform Zero, Truant, Unnerve, Vital Spirit, Wimp Out, Zen Mode, Zero to Hero";
			const UselessAbilities = text3.split(", ");
	  
			//Ability Dropdown Construction
			const abiNorm_array = [abiNorm1, abiNorm2, abiNorm3, abiNorm1_new, abiNorm2_new, abiNorm3_new];
			const abiSitu_array = [abiSitu1, abiSitu2, abiSitu3, abiSitu1_new, abiSitu2_new, abiSitu3_new];
			const abiUsel_array = [abiUsel1, abiUsel2, abiUsel3, abiUsel1_new, abiUsel2_new, abiUsel3_new];
	  
			function makeAbilityDropdown(abilityArray, optgroup) {
				for (let i = 0; i < abilityArray.length; i++) {
				let optn = abilityArray[i];
				let elm = document.createElement("option");
				elm.textContent = optn;
				elm.value = optn;
				optgroup.appendChild(elm);
				}
			}
	  
			for (let i = 0; i < abiNorm_array.length; i++) {
				makeAbilityDropdown(NormalAbilities, abiNorm_array[i]);
				makeAbilityDropdown(SituAbilities, abiSitu_array[i]);
				makeAbilityDropdown(UselessAbilities, abiUsel_array[i]);
			}
			
			//Actual Cost Calculation
			function getFirstAbiCost(old_abi, new_abi, cost) {
				if (old_abi.value == "") {
					if (NormalAbilities.includes(new_abi.value)) {
						cost.value = 2.5;
					} else if (SituAbilities.includes(new_abi.value)) {
						cost.value = 1;
					} else {
						cost.value = 0;
					} 
				} else if (old_abi.value == new_abi.value) {
					cost.value = 0;
				} else {
					cost.value = "error";
				}		 
			} 	
			
			function getAbiCost(old_abi, new_abi, cost) {
				if (new_abi.value == "") {
					cost.value = 0;
				} else {
					if (old_abi.value != new_abi.value) {
						if (NormalAbilities.includes(new_abi.value)) {
							cost.value = 5;
						} else if (SituAbilities.includes(new_abi.value)) {
							cost.value = 2;
						} else {
							cost.value = 0;
						}
					}
				}
			}	
			
			function getAllAbiCost() {
				getFirstAbiCost(abi1, abi1_new, abi1_cost);
				getAbiCost(abi2, abi2_new, abi2_cost);
				getAbiCost(abi3, abi3_new, abi3_cost);
			}
			
	  
			/*
			let txt = ""
			for (let i = 0; i < test.length; i++) {
				txt += typeof test[i];
			}
			demo.innerHTML = txt
					
			makeAbilityDropdown(NormalAbilities, abiNorm1);
			makeAbilityDropdown(SituAbilities, abiSitu1);
			makeAbilityDropdown(UselessAbilities, abiUsel1);
			makeAbilityDropdown(ability2);
			makeAbilityDropdown(ability3);  
			*/
	  
			//End of Ability Cost Calculation
			//End of Ability Section
	  
			
			
			
			
			
			//Move Section
			//turn string into list
			function splitAndTrim(some_text) {
				let array = some_text.split(",");
				for (i = 0; i < array.length; i++) {
					array[i] = array[i].trim();
				}
				return array;
			}
			
			//remove duplicate items from array
			function removeDupes(array) {
				let dummy_set = new Set(array);
				array = Array.from(dummy_set);
				return array;
			}

			
			let movepool = [];
			let givenMovesText = moves_given.value;
			let givenMoves = splitAndTrim(givenMovesText);
			
			
			//Notable Moves, Length = 390
			let text4 = "Accelerock, Acid Armor, Acrobatics, Aeroblast, Agility, Air Slash, Alluring Voice, Apple Acid, Aqua Cutter, Aqua Step, Aqua Tail, Armor Cannon, Astral Barrage, Attack Order, Aura Sphere, Aurora Veil, Avalanche, Baneful Bunker, Barb Barrage, Baton Pass, Beak Blast, Behemoth Bash, Behemoth Blade, Belly Drum, Bitter Blade, Bitter Malice, Blaze Kick, Bleakwind Storm, Blizzard, Blood Moon, Blue Flare, Body Press, Body Slam, Bolt Strike, Boomburst, Brave Bird, Brick Break, Bug Buzz, Bulk Up, Bullet Punch, Burning Bulwark, Calm Mind, Ceaseless Edge, Chilly Reception, Chloroblast, Circle Throw, Clanging Scales, Clangorous Soul, Clear Smog, Close Combat, Coil, Collision Course, Cotton Guard, Court Change, Crabhammer, Cross Chop, Crunch, Curse, Darkest Lariat, Dark Pulse, Defog, Destiny Bond, Detect, Diamond Storm, Dire Claw, Disable, Discharge, Doom Desire, Double-Edge, Double Shock, Draco Meteor, Dragon Ascent, Dragon Claw, Dragon Dance, Dragon Darts, Dragon Energy, Dragon Hammer, Dragon Pulse, Dragon Tail, Draining Kiss, Drain Punch, Drill Peck, Drill Run, Drum Beating, Dynamax Cannon, Earth Power, Earthquake, Eerie Spell, Electro Drift, Electro Shot, Encore, Endeavor, Energy Ball, Eruption, Esper Wing, Expanding Force, Explosion, Extrasensory, Extreme Speed, Fake Out, False Surrender, Fickle Beam, Fiery Dance, Fiery Wrath, Fillet Away, Fire Blast, Fire Fang, Fire Lash, Fire Punch, First Impression, Flame Charge, Flamethrower, Flare Blitz, Flash Cannon, Fleur Cannon, Flip Turn, Flower Trick, Focus Blast, Focus Punch, Foul Play, Freeze-Dry, Freezing Glare, Fusion Bolt, Fusion Flare, Future Sight, Giga Drain, Gigaton Hammer, Glacial Lance, Glaive Rush, Glare, Grass Knot, Grav Apple, Gunk Shot, Hammer Arm, Haze, Headlong Rush, Head Smash, Heal Bell, Healing Wish, Heart Swap, Heat Wave, High Horsepower, High Jump Kick, Hone Claws, Horn Leech, Hurricane, Hydro Pump, Hydro Steam, Hyper Drill, Hyper Voice, Ice Beam, Ice Fang, Ice Hammer, Ice Shard, Ice Spinner, Icicle Spear, Infernal Parade, Infestation, Iron Head, Ivy Cudgel, Judgment, Knock Off, Kowtow Cleave, Lash Out, Last Resort, Last Respects, Lava Plume, Leaf Blade, Leaf Storm, Leech Life, Leech Seed, Light Screen, Liquidation, Low Kick, Lumina Crash, Lunar Dance, Lunge, Luster Purge, Mach Punch, Magma Storm, Make It Rain, Malignant Chain, Matcha Gotcha, Megahorn, Memento, Meteor Beam, Meteor Mash, Mighty Cleave, Milk Drink, Mist Ball, Moonblast, Moongeist Beam, Moonlight, Morning Sun, Mortal Spin, Mountain Gale, Mystical Power, Nasty Plot, Night Shade, No Retreat, Nuzzle, Order Up, Origin Pulse, Overdrive, Overheat, Pain Split, Parting Shot, Perish Song, Petal Blizzard, Petal Dance, Photon Geyser, Play Rough, Poison Jab, Poltergeist, Population Bomb, Power Gem, Power Whip, Precipice Blades, Psyblade, Psychic, Psychic Fangs, Psychic Noise, Psycho Boost, Psycho Cut, Psyshield Bash, Psyshock, Psystrike, Pyro Ball, Quick Attack, Quiver Dance, Rage Fist, Raging Bull, Raging Fury, Rapid Spin, Razor Shell, Recover, Reflect, Reflect Type, Revelation Dance, Revival Blessing, Roar, Rock Blast, Rock Polish, Rock Slide, Roost, Ruination, Sacred Fire, Sacred Sword, Salt Cure, Sandsear Storm, Scald, Scorching Sands, Secret Sword, Seed Bomb, Seed Flare, Seismic Toss, Shadow Ball, Shadow Claw, Shadow Sneak, Shed Tail, Shell Side Arm, Shell Smash, Shift Gear, Shore Up, Silk Trap, Slack Off, Sludge Bomb, Sludge Wave, Snipe Shot, Soft-Boiled, Spacial Rend, Sparkling Aria, Spikes, Spiky Shield, Spin Out, Spirit Break, Spirit Shackle, Springtide Storm, Stealth Rock, Steam Eruption, Steel Beam, Steel Roller, Sticky Web, Stone Axe, Stone Edge, Stored Power, Strange Steam, Strength Sap, Sucker Punch, Sunsteel Strike, Supercell Slam, Super Fang, Superpower, Surf, Surging Strikes, Switcheroo, Swords Dance, Synthesis, Tachyon Cutter, Tail Glow, Tail Slap, Tailwind, Taunt, Teleport, Tera Starstorm, Throat Chop, Thunder, Thunderbolt, Thunder Cage, Thunderclap, Thunderous Kick, Thunder Punch, Thunder Wave, Tidy Up, Torch Song, Toxic, Toxic Spikes, Trailblaze, Transform, Tri Attack, Trick, Trick Room, Triple Arrows, Triple Axel, Triple Dive, Twin Beam, U-Turn, Victory Dance, Volt Switch, Volt Tackle, Waterfall, Water Shuriken, Water Spout, Wave Crash, Weather Ball, Whirlwind, Wicked Blow, Wildbolt Storm, Will-O-Wisp, Wish, Wood Hammer, X-Scissor, Zen Headbutt, Zing Zap, Solar Beam, Solar Blade, Dynamic Punch, Inferno, Zap Cannon, Heat Crash, Heavy Slam, Aerial Ace, Ancient Power, Aqua Jet, Axe Kick, Bullet Seed, Chilling Water, Counter, Dazzling Gleam, Dual Wingbeat, Feint, Grassy Glide, Gyro Ball, Headbutt, Hex, Ice Punch, Icicle Crash, Icy Wind, Iron Defense, Iron Tail, Mystical Fire, Night Slash, Outrage, Rising Voltage, Rock Tomb, Shelter, Smack Down, Smart Strike, Stun Spore, Temper Flare, Water Pulse, Wild Charge, Final Gambit, Jet Punch, Jungle Healing, Lunar Blessing, Mirror Coat, Pollen Puff, Power Trip, Take Heart";
			const NotableMoves = text4.split(", ");
			//Useless Moves, Length = 292
			let text5 = "Absorb, Acid, Acid Spray, Acupressure, After You, Air Cutter, Ally Switch, Amnesia, Aqua Ring, Arm Thrust, Aromatic Mist, Assurance, Astonish, Attract, Aura Wheel, Aurora Beam, Baby-Doll Eyes, Beat Up, Belch, Bind, Bite, Blast Burn, Block, Bone Rush, Bounce, Branch Poke, Breaking Swipe, Brine, Brutal Swing, Bubble Beam, Bug Bite, Bulldoze, Burning Jealousy, Burn Up, Celebrate, Charge, Charge Beam, Charm, Coaching, Comeuppance, Confide, Confuse Ray, Confusion, Conversion, Conversion 2, Copycat, Corrosive Gas, Cosmic Power, Cotton Spore, Covet, Cross Poison, Crush Claw, Crush Grip, Cut, Dark Void, Decorate, Defend Order, Defense Curl, Dig, Disarming Voice, Dive, Doodle, Double Hit, Double Kick, Double Team, Dragon Breath, Dragon Cheer, Dragon Rush, Dream Eater, Echoed Voice, Eerie Impulse, Electric Terrain, Electro Ball, Electroweb, Ember, Endure, Entrainment, Fairy Lock, Fairy Wind, Fake Tears, False Swipe, Feather Dance, Fell Stinger, Fire Pledge, Fire Spin, Fissure, Flail, Flame Wheel, Flatter, Fling, Floral Healing, Fly, Flying Press, Focus Energy, Follow Me, Force Palm, Forest's Curse, Freeze Shock, Frenzy Plant, Frost Breath, Fury Attack, Fury Cutter, Fury Swipes, Gastro Acid, Giga Impact, Glaciate, Grass Pledge, Grassy Terrain, Gravity, Growl, Growth, Guard Split, Guard Swap, Guillotine, Gust, Happy Hour, Harden, Hard Press, Heal Pulse, Helping Hand, Hold Back, Hold Hands, Horn Attack, Horn Drill, Howl, Hydro Cannon, Hyper Beam, Hyperspace Fury, Hyperspace Hole, Hypnosis, Ice Burn, Imprison, Incinerate, Ingrain, Instruct, Jaw Lock, Leafage, Leer, Lick, Life Dew, Lock-On, Low Sweep, Magical Leaf, Magic Powder, Magic Room, Magnetic Flux, Magnet Rise, Mean Look, Mega Drain, Mega Kick, Mega Punch, Metal Burst, Metal Claw, Metal Sound, Metronome, Mimic, Minimize, Mist, Misty Explosion, Misty Terrain, Muddy Water, Mud Shot, Mud-Slap, Night Daze, Noble Roar, Parabolic Charge, Payback, Pay Day, Peck, Phantom Force, Pin Missile, Play Nice, Pluck, Poison Fang, Poison Gas, Poison Powder, Poison Sting, Poison Tail, Pounce, Pound, Powder Snow, Power Shift, Power Split, Power Swap, Power Trick, Present, Prismatic Laser, Psybeam, Psychic Terrain, Psych Up, Quash, Quick Guard, Rage Powder, Rain Dance, Razor Leaf, Recycle, Relic Song, Retaliate, Reversal, Roar of Time, Rock Smash, Rock Throw, Rock Wrecker, Role Play, Rollout, Round, Safeguard, Sand Attack, Sandstorm, Sand Tomb, Scale Shot, Scary Face, Scratch, Screech, Self-Destruct, Shadow Force, Shadow Punch, Sheer Cold, Shock Wave, Simple Beam, Sing, Sketch, Skill Swap, Skitter Smack, Sky Attack, Slam, Slash, Sleep Powder, Sludge, Smog, Smokescreen, Snarl, Snowscape, Soak, Spark, Speed Swap, Spicy Extract, Spite, Spit Up, Splash, Spore, Steel Wing, Stockpile, Stomp, Stomping Tantrum, Strength, String Shot, Struggle Bug, Stuff Cheeks, Sunny Day, Supersonic, Swagger, Swallow, Sweet Kiss, Sweet Scent, Swift, Syrup Bomb, Tackle, Tail Whip, Tar Shot, Tearful Look, Teatime, Teeter Dance, Terrain Pulse, Thief, Thrash, Thunder Fang, Thunder Shock, Tickle, Topsy-Turvy, Torment, Toxic Thread, Triple Kick, Trop Kick, Twister, Upper Hand, Uproar, Vacuum Wave, Venoshock, Vine Whip, Vise Grip, Water Gun, Water Pledge, Whirlpool, Wide Guard, Wing Attack, Withdraw, Wonder Room, Work Up, Worry Seed, Wrap, Yawn";
			const UselessMoves = text5.split(", ");
			//Unusable Moves
			const UnusableMoves = ["Blazing Torque","Combat Torque","Magical Torque","Noxious Torque","Wicked Torque","V-Create"];
			//Universal Moves
			const UniversalMoves = ["Take Down","Rest","Sleep Talk","Snore","Protect","Facade","Substitute","Tera Blast"];
			//Given STAB Moves
			const GivenSTAB= [["Body Slam","Hyper Voice"],["Temper Flare","Flamethrower"],["Liquidation","Surf"],["Leaf Blade","Energy Ball"],["Thunder Punch","Thunderbolt"],["Ice Spinner","Ice Beam"],["Brick Break","Aura Sphere"],["Poison Jab","Sludge Bomb"],["High Horsepower","Earth Power"],["Drill Peck","Air Slash"],["Psychic Fangs","Psychic"],["Lunge","Bug Buzz"],["Rock Slide","Power Gem"],["Shadow Claw","Shadow Ball"],["Dragon Claw","Dragon Pulse"],["Crunch","Dark Pulse"],["Iron Head","Flash Cannon"],["Play Rough","Alluring Voice"]];
			
			
			//Moves sorted by Type
			const normalMoves = [["Baton Pass","Belly Drum","Blood Moon","Body Slam","Boomburst","Court Change","Disable","Double-Edge","Encore","Endeavor","Explosion","Extreme Speed","Fake Out","Feint","Fillet Away","Glare","Headbutt","Heal Bell","Hyper Drill","Hyper Voice","Judgment","Last Resort","Milk Drink","Morning Sun","Pain Split","Perish Song","Population Bomb","Quick Attack","Raging Bull","Rapid Spin","Recover","Reflect Type","Revelation Dance","Revival Blessing","Roar","Shed Tail","Shell Smash","Slack Off","Soft-Boiled","Super Fang","Swords Dance","Tail Slap","Tera Starstorm","Tidy Up","Transform","Tri Attack","Weather Ball","Whirlwind","Wish"],["Acupressure","After You","Attract","Bind","Block","Celebrate","Confide","Conversion","Conversion 2","Copycat","Covet","Crush Claw","Crush Grip","Cut","Defense Curl","Doodle","Double Hit","Double Team","Echoed Voice","Endure","Entrainment","False Swipe","Flail","Focus Energy","Follow Me","Fury Attack","Fury Swipes","Giga Impact","Growl","Growth","Guillotine","Happy Hour","Harden","Helping Hand","Hold Back","Hold Hands","Horn Attack","Horn Drill","Howl","Hyper Beam","Leer","Lock-On","Mean Look","Mega Kick","Mega Punch","Metronome","Mimic","Minimize","Noble Roar","Pay Day","Play Nice","Pound","Power Shift","Present","Psych Up","Recycle","Relic Song","Retaliate","Round","Safeguard","Scary Face","Scratch","Screech","Self-Destruct","Simple Beam","Sing","Sketch","Slam","Slash","Smokescreen","Spit Up","Splash","Stockpile","Stomp","Strength","Stuff Cheeks","Supersonic","Swagger","Swallow","Sweet Scent","Swift","Tackle","Tail Whip","Tearful Look","Teatime","Teeter Dance","Terrain Pulse","Thrash","Tickle","Uproar","Vise Grip","Work Up","Wrap","Yawn"]];
			const fireMoves = [["Armor Cannon","Bitter Blade","Blaze Kick","Blue Flare","Burning Bulwark","Eruption","Fiery Dance","Fire Blast","Fire Fang","Fire Lash","Fire Punch","Flame Charge","Flamethrower","Flare Blitz","Fusion Flare","Heat Crash","Heat Wave","Inferno","Lava Plume","Magma Storm","Mystical Fire","Overheat","Pyro Ball","Raging Fury","Sacred Fire","Temper Flare","Torch Song","Will-O-Wisp"],["Blast Burn","Burning Jealousy","Burn Up","Ember","Fire Pledge","Fire Spin","Flame Wheel","Incinerate","Sunny Day"]];
			const waterMoves = [["Aqua Cutter","Aqua Jet","Aqua Step","Aqua Tail","Chilling Water","Crabhammer","Flip Turn","Hydro Pump","Hydro Steam","Jet Punch","Liquidation","Origin Pulse","Razor Shell","Scald","Snipe Shot","Sparkling Aria","Steam Eruption","Surf","Surging Strikes","Triple Dive","Waterfall","Water Pulse","Water Shuriken","Water Spout","Wave Crash"],["Aqua Ring","Brine","Bubble Beam","Dive","Hydro Cannon","Life Dew","Muddy Water","Rain Dance","Soak","Water Gun","Water Pledge","Whirlpool","Withdraw"]];
			const grassMoves = [["Apple Acid","Bullet Seed","Chloroblast","Cotton Guard","Drum Beating","Energy Ball","Flower Trick","Giga Drain","Grass Knot","Grassy Glide","Grav Apple","Horn Leech","Ivy Cudgel","Jungle Healing","Leaf Blade","Leaf Storm","Leech Seed","Matcha Gotcha","Petal Blizzard","Petal Dance","Power Whip","Seed Bomb","Seed Flare","Solar Beam","Solar Blade","Spiky Shield","Strength Sap","Stun Spore","Synthesis","Trailblaze","Wood Hammer"],["Absorb","Branch Poke","Cotton Spore","Forest's Curse","Frenzy Plant","Grass Pledge","Grassy Terrain","Ingrain","Leafage","Magical Leaf","Mega Drain","Razor Leaf","Sleep Powder","Spicy Extract","Spore","Syrup Bomb","Trop Kick","Vine Whip","Worry Seed"]];
			const electricMoves = [["Bolt Strike","Discharge","Double Shock","Electro Drift","Electro Shot","Fusion Bolt","Nuzzle","Overdrive","Rising Voltage","Supercell Slam","Thunder","Thunderbolt","Thunder Cage","Thunderclap","Thunder Punch","Thunder Wave","Volt Switch","Volt Tackle","Wild Charge","Wildbolt Storm","Zap Cannon","Zing Zap"],["Aura Wheel","Charge","Charge Beam","Eerie Impulse","Electric Terrain","Electro Ball","Electroweb","Magnetic Flux","Magnet Rise","Parabolic Charge","Shock Wave","Spark","Thunder Fang","Thunder Shock"]];
			const iceMoves = [["Aurora Veil","Avalanche","Blizzard","Chilly Reception","Freeze-Dry","Glacial Lance","Haze","Ice Beam","Ice Fang","Ice Hammer","Ice Punch","Ice Shard","Ice Spinner","Icicle Crash","Icicle Spear","Icy Wind","Mountain Gale","Triple Axel"],["Aurora Beam","Freeze Shock","Frost Breath","Glaciate","Ice Burn","Mist","Powder Snow","Sheer Cold","Snowscape"]];
			const fightingMoves = [["Aura Sphere","Axe Kick","Body Press","Brick Break","Bulk Up","Circle Throw","Close Combat","Collision Course","Counter","Cross Chop","Detect","Drain Punch","Dynamic Punch","Focus Blast","Focus Punch","Hammer Arm","High Jump Kick","Low Kick","Mach Punch","No Retreat","Sacred Sword","Secret Sword","Seismic Toss","Superpower","Thunderous Kick","Triple Arrows","Victory Dance"],["Arm Thrust","Coaching","Double Kick","Flying Press","Force Palm","Low Sweep","Quick Guard","Reversal","Rock Smash","Triple Kick","Upper Hand","Vacuum Wave"]];
			const poisonMoves = [["Acid Armor","Baneful Bunker","Barb Barrage","Clear Smog","Coil","Dire Claw","Final Gambit","Gunk Shot","Malignant Chain","Mortal Spin","Poison Jab","Shell Side Arm","Sludge Bomb","Sludge Wave","Toxic","Toxic Spikes"],["Acid","Acid Spray","Belch","Corrosive Gas","Cross Poison","Gastro Acid","Poison Fang","Poison Gas","Poison Powder","Poison Sting","Poison Tail","Sludge","Smog","Toxic Thread","Venoshock"]];
			const groundMoves = [["Drill Run","Earth Power","Earthquake","Headlong Rush","High Horsepower","Precipice Blades","Sandsear Storm","Scorching Sands","Shore Up","Spikes"],["Bone Rush","Bulldoze","Dig","Fissure","Mud Shot","Mud-Slap","Sand Attack","Sand Tomb","Stomping Tantrum"]];
			const flyingMoves = [["Acrobatics","Aerial Ace","Aeroblast","Air Slash","Beak Blast","Bleakwind Storm","Brave Bird","Defog","Dragon Ascent","Drill Peck","Dual Wingbeat","Hurricane","Roost","Tailwind"],["Air Cutter","Bounce","Feather Dance","Fly","Gust","Peck","Pluck","Sky Attack","Wing Attack"]];
			const psychicMoves = [["Agility","Calm Mind","Eerie Spell","Esper Wing","Expanding Force","Extrasensory","Freezing Glare","Future Sight","Healing Wish","Heart Swap","Light Screen","Lumina Crash","Lunar Blessing","Lunar Dance","Luster Purge","Mirror Coat","Mist Ball","Mystical Power","Photon Geyser","Psyblade","Psychic","Psychic Fangs","Psychic Noise","Psycho Boost","Psycho Cut","Psyshield Bash","Psyshock","Psystrike","Reflect","Stored Power","Take Heart","Teleport","Trick","Trick Room","Twin Beam","Zen Headbutt"],["Ally Switch","Amnesia","Confusion","Cosmic Power","Dream Eater","Gravity","Guard Split","Guard Swap","Heal Pulse","Hyperspace Hole","Hypnosis","Imprison","Instruct","Magic Powder","Magic Room","Power Split","Power Swap","Power Trick","Prismatic Laser","Psybeam","Psychic Terrain","Role Play","Skill Swap","Speed Swap","Wonder Room"]];
			const bugMoves = [["Attack Order","Bug Buzz","First Impression","Infestation","Leech Life","Lunge","Megahorn","Pollen Puff","Quiver Dance","Silk Trap","Sticky Web","Tail Glow","U-Turn","X-Scissor"],["Bug Bite","Defend Order","Fell Stinger","Fury Cutter","Pin Missile","Pounce","Rage Powder","Skitter Smack","String Shot","Struggle Bug"]];
			const rockMoves = [["Accelerock","Ancient Power","Diamond Storm","Head Smash","Meteor Beam","Mighty Cleave","Power Gem","Rock Blast","Rock Polish","Rock Slide","Rock Tomb","Salt Cure","Smack Down","Stealth Rock","Stone Axe","Stone Edge"],["Rock Throw","Rock Wrecker","Rollout","Sandstorm","Tar Shot","Wide Guard"]];
			const ghostMoves = [["Astral Barrage","Bitter Malice","Curse","Destiny Bond","Hex","Infernal Parade","Last Respects","Moongeist Beam","Night Shade","Poltergeist","Rage Fist","Shadow Ball","Shadow Claw","Shadow Sneak","Spirit Shackle"],["Astonish","Confuse Ray","Lick","Phantom Force","Shadow Force","Shadow Punch","Spite"]];
			const dragonMoves = [["Clanging Scales", "Clangorous Soul","Draco Meteor","Dragon Claw","Dragon Dance","Dragon Darts","Dragon Energy","Dragon Hammer","Dragon Pulse","Dragon Tail","Dynamax Cannon","Fickle Beam","Glaive Rush","Order Up","Outrage","Spacial Rend"],["Breaking Swipe","Dragon Breath","Dragon Cheer","Dragon Rush","Roar of Time","Scale Shot","Twister"]];
			const darkMoves = [["Ceaseless Edge","Crunch","Darkest Lariat","Dark Pulse","False Surrender","Fiery Wrath","Foul Play","Hone Claws","Knock Off","Kowtow Cleave","Lash Out","Memento","Nasty Plot","Night Slash","Parting Shot","Power Trip","Ruination","Sucker Punch","Switcheroo","Taunt","Throat Chop","Wicked Blow"],["Assurance","Beat Up","Bite","Brutal Swing","Comeuppance","Dark Void","Fake Tears","Flatter","Fling","Hyperspace Fury","Jaw Lock","Night Daze","Payback","Quash","Snarl","Thief","Topsy-Turvy","Torment"]];
			const steelMoves = [["Behemoth Bash","Behemoth Blade","Bullet Punch","Doom Desire","Flash Cannon","Gigaton Hammer","Gyro Ball","Heavy Slam","Iron Defense","Iron Head","Iron Tail","Make It Rain","Meteor Mash","Shelter","Shift Gear","Smart Strike","Spin Out","Steel Beam","Steel Roller","Sunsteel Strike","Tachyon Cutter"],["Hard Press","Metal Burst","Metal Claw","Metal Sound","Steel Wing"]];
			const fairyMoves = [["Alluring Voice","Dazzling Gleam","Draining Kiss","Fleur Cannon","Moonblast","Moonlight","Play Rough","Spirit Break","Springtide Storm","Strange Steam"],["Aromatic Mist","Baby-Doll Eyes","Charm","Decorate","Disarming Voice","Fairy Lock","Fairy Wind","Floral Healing","Misty Explosion","Misty Terrain","Sweet Kiss"]];
			
			
			const typeArray = ["Normal","Fire","Water","Grass","Electric","Ice","Fighting","Poison","Ground","Flying","Psychic","Bug","Rock","Ghost","Dragon","Dark","Steel","Fairy"];
			const moveTypeArray = [normalMoves,fireMoves,waterMoves,grassMoves,electricMoves,iceMoves,fightingMoves,poisonMoves,groundMoves,flyingMoves,psychicMoves,bugMoves,rockMoves,ghostMoves,dragonMoves,darkMoves,steelMoves,fairyMoves];
			
			
			//remove empty elements in array
			function removeEmpty(elm) {
				return elm != "";
			}
			
			//Add Given STAB Moves
			function giveSTAB() {
				let t1 = type1_new.value;
				let t2 = type2_new.value;
				
				let ind1 = typeArray.indexOf(t1);
				let ind2 = typeArray.indexOf(t2);
				
				let stabs1 = [,];
				let stabs2 = [,];
				
				if (ind1 < 0) {
					;
				} else {
					stabs1 = GivenSTAB[ind1];
				}	
				if (ind2 < 0) {
					;
				} else {
					stabs2 = GivenSTAB[ind2];
				}
				return [stabs1, stabs2];
			}
			
			//Get Given Moves
			function getGivenMoves() {
				givenMovesText = moves_given.value;
				givenMoves = splitAndTrim(givenMovesText);
				let [a, b] = giveSTAB();
				givenMoves = givenMoves.concat(a).concat(b).filter(removeEmpty);
				givenMoves = removeDupes(givenMoves);
			}
			
			//Get Movepool
			
			function getMovepool() {
				movepool = givenMoves.concat(splitAndTrim(moves_new.value)).concat(UniversalMoves).filter(removeEmpty);
				movepool = removeDupes(movepool);
			}

		
			
			//Give Suggested Useless Moves
			function suggestMoves() {
				let t1 = type1_new.value;
				let t2 = type2_new.value;
				
				let ind1 = typeArray.indexOf(t1);
				let ind2 = typeArray.indexOf(t2);
			
				let t1moves = [[],[]];
				let t2moves = [[],[]];
				
				if (ind1 < 0) {
						;
				} else {
					t1moves = moveTypeArray[ind1];
				}
				if (ind2 < 0) {
					;
				} else {
					t2moves = moveTypeArray[ind2];
				}
				
				moves_suggest.value = t1moves[1].join(", ") + "\n" + t2moves[1].join(", ");
			}

			
			//Move Cost Calculation
			//check for given STAB in list of new moves, and set cost to 0
			function getMoveCost() {
				let t1 = type1_new.value;
				let t2 = type2_new.value;
				
				let ind1 = typeArray.indexOf(t1);
				let ind2 = typeArray.indexOf(t2);
			
				let t1moves = [[],[]];
				let t2moves = [[],[]];
				let totMoveCost = 0;
			
				if (ind1 < 0) {
					;
				} else {
					t1moves = moveTypeArray[ind1];
					//demo2.innerHTML = t1moves[1];
				}
				if (ind2 < 0) {
					;
				} else {
					t2moves = moveTypeArray[ind2];
					//demo3.innerHTML = t2moves;
				}
				
				let stabs1 = [,];
				let stabs2 = [,];
				
				if (ind1 < 0) {
					;
				} else {
					stabs1 = GivenSTAB[ind1];
				}	
				if (ind2 < 0) {
					;
				} else {
					stabs2 = GivenSTAB[ind2];
				}
				
				let newMovesText = moves_new.value;
				let newMoves = splitAndTrim(newMovesText);
				
				for (let j = 0; j < newMoves.length; j++) {
					if ((t1moves[0].includes(newMoves[j])) || (t2moves[0].includes(newMoves[j]))) { 
						if ((stabs1.includes(newMoves[j]))||(stabs2.includes(newMoves[j]))) {
							totMoveCost += 0;
						} else {
							totMoveCost += 2;
						}
					} else if ((t1moves[1].includes(newMoves[j])) || (t2moves[1].includes(newMoves[j]))) {
						totMoveCost += 0;
					} else if (NotableMoves.includes(newMoves[j])) {
						totMoveCost += 5;
					} else if (UselessMoves.includes(newMoves[j])) {
						totMoveCost += 0.5;
					} else {
						;
					}
				}
				move_cost.value = totMoveCost;
			}
			
			
			//End of Move Cost Calculation
			//End of Move Section
			
			




			
			//Total and Remaining cost
			function tot_rem() {
				let totalTypeCost = Number(type1_cost.value) + Number(type2_cost.value);
				let totalStatCost = Number(hp_cost.value) + Number(atk_cost.value) + Number(def_cost.value) + Number(spa_cost.value) + Number(spd_cost.value) + Number(spe_cost.value);
				let totalAbilityCost = Number(abi1_cost.value) + Number(abi2_cost.value) + Number(abi3_cost.value);
				//let totalMoveCost = Number(moves_cost.value);
				
				total_cost.value = totalTypeCost + totalStatCost + totalAbilityCost + Number(move_cost.value);
				rem_cost.value = 50 - total_cost.value;
			}
			
			//Get Canvas summarised
			function getCanvas() {
				getType(); 
				getNewStats(); 
				getAbilities();
				
				getTypeCost(); 
				showStatCost();
				getAllAbiCost();
				
				tot_rem();
			}	
			
			//Reset
			function reset() {
				type1_new.value = "";
				type2_new.value = "";
				abi1_new.value = "";
				abi2_new.value = "";
				abi3_new.value = "";
				hp_new.value = 50;
				atk_new.value = 50;
				def_new.value = 50;
				spa_new.value = 50;
				spd_new.value = 50;
				spe_new.value = 50;
				moves_new.value = "";
				
				type1_cost.value = 0;
				type2_cost.value = 0;
				abi1_cost.value = 0;
				abi2_cost.value = 0;
				abi3_cost.value = 0;
				hp_cost.value = 0;
				atk_cost.value = 0;
				def_cost.value = 0;
				spa_cost.value = 0;
				spd_cost.value = 0;
				spe_cost.value = 0;
				moves_cost.value = 0;
				tot_rem();
			}
			
			
			//Test function
			function testFunc() {
				document.getElementById("demo").innerHTML = "hello";
			}
			
			//Populating Copy/Pasteable
			function makeCopy() {
				nameCP.innerHTML = name_mon.value;
				weightCP.innerHTML = weight.value;
				
				if (type2_new.value != "") {
					typeCP.innerHTML = type1_new.value + " / " + type2_new.value;
				} else {
					typeCP.innerHTML = type1_new.value;
				}
				
				hpCP.innerHTML = hp_new.value;
				atkCP.innerHTML = atk_new.value;
				defCP.innerHTML = def_new.value;
				spaCP.innerHTML = spa_new.value;
				spdCP.innerHTML = spd_new.value;
				speCP.innerHTML = spe_new.value;
				bst.innerHTML = Number(hp_new.value) + Number(atk_new.value) + Number(def_new.value) + Number(spa_new.value) + Number(spd_new.value) + Number(spe_new.value);
				
				let abiCP_arr = [abi1_new.value,abi2_new.value,abi3_new.value];
				for (i=0; i<3; i++) {
					if (abiCP_arr[i] == "") {
						abiCP_arr[i] = null;
					} else { ; }
				}
				abiCP.innerHTML = abiCP_arr.join(" / ");
			
				getGivenMoves();
				getMovepool();
				movesCP.innerHTML = movepool.join(", ");
			}	
			
    </script>
  </body>
</html>
